@import 'normalize/index.styl'

__navsize = 3rem
__playlistsize = 16rem

*
  box-sizing: border-box
  color: hsl(0, 0%, 10%)
  margin: 0
  padding: 0

  scrollbar-width: none
  &::-webkit-scrollbar
    display: none

  font: 16px/1.25 'Work Sans', sans-serif
  @media all and (max-width: 800px)
    font: 12px/1.25 'Work Sans', sans-serif

.title
  font-weight: bold

.artist
  opacity: 0.9

.meta
  font-size: 0.7rem
  opacity: 0.7
  @media all and (max-width: 800px)
    display: none

.art
  background-color: hsl(210, 50%, 50%)
  background-position: center
  background-repeat: no-repeat
  background-size: cover


.app
  display: grid
  height: 100vh
  place-items: stretch / stretch
  place-content: stretch / stretch
  width: 100vw

  grid-template-rows: __navsize auto
  grid-template-columns: __playlistsize auto
  grid-template-areas: "nav nav" "playlist library"
  @media all and (orientation: portrait)
    grid-template-rows: __playlistsize auto
    grid-template-columns: __navsize auto
    grid-template-areas: "nav playlist" "nav library"

  &.playlist0
    grid-template-rows: __navsize auto
    grid-template-columns: auto
    grid-template-areas: "nav" "library"
    @media all and (orientation: portrait)
      grid-template-rows: auto
      grid-template-columns: __navsize auto
      grid-template-areas: "nav library"


nav
  background: hsl(0, 0%, 30%)
  display: flex
  flex-flow: row wrap
  font-weight: bold
  grid-area: nav
  height: __navsize
  overflow-x: scroll
  overflow-y: hidden
  width: 100vw

  @media all and (orientation: portrait)
    height: 100vh
    overflow-x: hidden
    overflow-y: scroll
    width: __navsize

  a
    color: hsl(0, 0%, 70%)
    cursor: pointer
    font-size: (__navsize / 2)
    line-height: __navsize
    padding: 0 (__navsize / 4) 0 (__navsize / 4)
    text-decoration: none

    &:hover
      background: hsl(0, 0%, 50%)
      color: hsl(0, 0%, 90%)

  a.order
    background: hsl(0, 0%, 50%)


.library
  display: flex
  flex-flow: row wrap
  grid-area: library
  justify-content: space-evenly
  overflow-x: hidden
  overflow-y: scroll

  & > div
    cursor: pointer
    height: 11vmax
    margin: 1vmin
    overflow: hidden
    position: relative
    width: 11vmax

    .art
      height: 100%
      width: 100%

    .about
      background: linear-gradient(
        to top,
        hsla(0, 0%, 100%, 1.0),
        hsla(0, 0%, 100%, 0.8) 4.25rem,
        hsla(0, 0%, 100%, 0.2) 5.5rem,
        hsla(0, 0%, 100%, 0.0))
      display: flex
      flex-flow: column-reverse nowrap
      height: 100%
      margin-top: -100%
      padding: 0.2rem
      width: 100%

      .title, .artist, .meta
        overflow: hidden
        text-overflow: ellipsis
        white-space: nowrap
        width: 11vmax

    .title
      height: 1.25rem

    .artist
      height: 1.25rem

  .sep
    background: hsl(0, 0%, 10%)
    border-radius: 2vmin
    text-align: center

    a
      color: hsl(0, 0%, 90%)
      font-size: 3rem
      line-height: 8rem


.playlist
  background: hsl(0, 0%, 10%)
  color: hsl(0, 0%, 90%)
  font-size: smaller
  grid-area: playlist
  overflow-x: hidden
  overflow-y: scroll
  position: relative

  .item
    cursor: pointer
    height: 2.4rem
    overflow: hidden
    position: relative

    &.active
      height: 3.6rem

  & > div:nth-child(even)
    background: hsl(0, 0%, 90%)
  & > div:nth-child(odd)
    background: hsl(0, 0%, 80%)

  .art
    float: left
    height: 2rem
    margin: 0.2rem
    width: 2rem

  .title, .artist
    max-height: 1.25rem
    overflow: hidden
    text-overflow: ellipsis
    white-space: nowrap

  .artist
    font-size: 0.8rem
    max-height: 1rem

  .playing
    height: 1rem
    margin: 0.2rem
    position: relative
    text-align: right
    width: calc(100% - 0.4rem)

    .bar
      height: 1rem
      left: 0
      position: absolute
      top: 0

      .label
        color: hsl(0, 0%, 90%)
        display: inline-block
        font-size: 0.8rem
        line-height: 1rem
        padding-right: 0.1rem
        vertical-align: top

    .total
      background: hsl(240, 50%, 50%)
      right: 0
      z-index: 1

    .buffered
      background: hsl(240, 50%, 70%)
      z-index: 2

    .current
      background: hsl(240, 50%, 30%)
      z-index: 3

  .clear
    background: hsl(0, 100%, 40%)
    border-radius: 0 0 0 0.5rem
    color: hsl(0, 0%, 90%)
    cursor: pointer
    font-size: 2rem
    font-weight: bold
    line-height: 2rem
    height: 2rem
    position: absolute
    right: 0
    text-align: center
    width: 2rem
    z-index: 9
